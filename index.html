<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Đăng ký nguyện vọng – Mockup</title>
  <style>
    :root{
      --bg:#f6f8fa;--card:#ffffff;--primary:#2f74da;--text:#1f2328;--muted:#6a737d;--ok:#1a7f37;--warn:#b54708;--danger:#d1242f;--line:#e5e7eb;
      --sidebar:#0d253f;--sidebar-text:#d9e3f0;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,"Helvetica Neue",Arial; background:var(--bg); color:var(--text)}
    .app{display:grid; grid-template-columns:260px 1fr; min-height:100vh}
    /* Sidebar */
    .sidebar{background:var(--sidebar); color:var(--sidebar-text); padding:18px 14px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px; margin-bottom:16px}
    .brand .badge{background:#0ea5e9; color:white; padding:4px 8px; border-radius:999px; font-size:12px}
    .nav h4{opacity:.7; font-weight:600; font-size:12px; margin:18px 8px 8px}
    .nav a{display:flex; align-items:center; gap:10px; color:inherit; text-decoration:none; padding:10px 12px; border-radius:10px; margin:4px 0; font-size:14px}
    .nav a:hover{background:rgba(255,255,255,.06)}
    .nav a.active{background:rgba(255,255,255,.12)}
    /* Main */
    .main{padding:22px 26px}
    .header{display:flex; align-items:center; justify-content:space-between; margin-bottom:14px}
    .title{font-size:20px; font-weight:700}
    .breadcrumb{font-size:12px; color:var(--muted)}
    .card{background:var(--card); border:1px solid var(--line); border-radius:14px; box-shadow:0 1px 2px rgba(0,0,0,.03)}
    .p-16{padding:16px}
    /* Steps */
    .steps{display:grid; grid-template-columns:repeat(4,1fr); gap:14px; margin-bottom:14px}
    .step{display:flex; align-items:center; gap:8px; background:var(--card); border:1px solid var(--line); padding:10px 12px; border-radius:12px}
    .step .dot{width:22px; height:22px; display:grid; place-items:center; border-radius:50%; background:#e5f0ff; color:#1d4ed8; font-size:12px; font-weight:700}
    .step.done .dot{background:#dcfce7; color:#166534}
    .step .label{font-size:13px}
    /* Toolbar */
    .toolbar{display:flex; flex-wrap:wrap; gap:10px; margin:10px 0 18px}
    .btn{border:1px solid var(--line); background:#fff; padding:10px 12px; border-radius:10px; font-weight:600; font-size:14px; cursor:pointer}
    .btn.primary{background:var(--primary); border-color:var(--primary); color:#fff}
    .btn.ghost{background:transparent; color:var(--primary); border-color:var(--primary)}
    .btn:active{transform:translateY(1px)}
    /* List */
    .list{display:flex; flex-direction:column; gap:12px}
    .item{display:grid; grid-template-columns:72px 1fr 38px; gap:12px; border:1px solid var(--line); border-radius:14px; padding:12px; background:#fff; align-items:stretch}
    .priority{display:grid; place-items:center; background:#f1f5f9; border:1px dashed #cbd5e1; border-radius:10px; font-weight:800; font-size:18px}
    .fields{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:8px 16px}
    .kv{font-size:13px}
    .kv b{display:inline-block; min-width:160px; color:#374151}
    .status.ok{color:var(--ok); font-weight:700}
    .status.warn{color:var(--warn); font-weight:700}
    .actions{display:flex; align-items:start; gap:8px}
    .iconbtn{width:34px; height:34px; display:grid; place-items:center; border:1px solid var(--line); border-radius:10px; background:#fff; cursor:pointer}
    .iconbtn:hover{background:#f8fafc}
    .dragger{cursor:grab}
    .empty{padding:28px; text-align:center; color:var(--muted)}
    /* Modal */
    .modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.35); padding:20px}
    .modal.active{display:grid}
    .dialog{width:min(880px,100%); background:#fff; border-radius:16px; border:1px solid var(--line); overflow:hidden}
    .dialog header{display:flex; justify-content:space-between; align-items:center; padding:14px 16px; border-bottom:1px solid var(--line)}
    .dialog h3{margin:0; font-size:18px}
    .dialog .body{padding:16px}
    .grid{display:grid; grid-template-columns:repeat(2,1fr); gap:12px}
    .field{display:flex; flex-direction:column; gap:6px}
    label{font-size:13px; color:#374151}
    input,select,textarea{border:1px solid var(--line); border-radius:10px; padding:10px 12px; font-size:14px}
    textarea{min-height:72px}
    .dialog footer{display:flex; justify-content:flex-end; gap:10px; padding:12px 16px; border-top:1px solid var(--line); background:#fafafa}
    /* Print */
    @media print{
      .sidebar,.toolbar,.steps,.header .breadcrumb,.actions,.btn{display:none !important}
      .app{grid-template-columns:1fr}
      .main{padding:0}
      .item{page-break-inside:avoid}
    }
  </style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="brand">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2l7 4v6c0 5-3 7-7 10C8 19 5 17 5 12V6l7-4z"/></svg>
      <div>Bộ GD&ĐT · Kỳ thi TN THPT</div>
      <span class="badge">Mock</span>
    </div>
    <nav class="nav">
      <h4>Danh mục</h4>
      <a class="active" href="#">Trang chủ</a>
      <a href="#">Phiếu đăng ký</a>
      <a href="#">Tra cứu</a>
      <a href="#">Xét tuyển</a>
      <a href="#">Công cụ ôn luyện</a>
      <a href="#">Đổi mật khẩu</a>
    </nav>
  </aside>
  <main class="main">
    <div class="header">
      <div>
        <div class="breadcrumb">Hệ thống/ Xét tuyển/ Đăng ký nguyện vọng</div>
        <div class="title">Thông tin đăng ký nguyện vọng của thí sinh</div>
      </div>
      <button class="btn ghost" onclick="downloadGuide()">Tải hướng dẫn đăng ký</button>
    </div>

    <div class="steps">
      <div class="step done"><div class="dot">1</div><div class="label">Danh sách nguồn dữ liệu đủ điều kiện trúng tuyển</div></div>
      <div class="step done"><div class="dot">2</div><div class="label">Thêm nguyện vọng</div></div>
      <div class="step"><div class="dot">3</div><div class="label">Nhập OTP</div></div>
      <div class="step"><div class="dot">4</div><div class="label">Xem danh sách NV đã đăng ký</div></div>
    </div>

    <div class="card p-16">
      <div class="toolbar">
        <button class="btn primary" id="btnAdd">Thêm nguyện vọng</button>
        <button class="btn" id="btnSort">Xếp theo thứ tự NV</button>
        <button class="btn" id="btnPrint">In danh sách</button>
        <button class="btn" id="btnHistory">Lịch sử giao dịch</button>
        <span style="margin-left:auto; color:var(--muted); font-size:13px">Dữ liệu lưu tự động vào LocalStorage</span>
      </div>

      <div id="list" class="list"></div>
      <div id="empty" class="empty" hidden>Chưa có nguyện vọng nào. Bấm <b>Thêm nguyện vọng</b> để bắt đầu.</div>
    </div>
  </main>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="dialog">
    <header>
      <h3 id="modalTitle">Thêm nguyện vọng</h3>
      <button class="iconbtn" onclick="closeModal()" title="Đóng">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
      </button>
    </header>
    <div class="body">
      <div class="grid">
        <div class="field"><label>Thứ tự NV</label><input id="fPriority" type="number" min="1" placeholder="VD: 1"/></div>
        <div class="field"><label>Trường</label><input id="fTruong" placeholder="VD: Học viện Kỹ thuật Mật mã (Hà Nội)"/></div>
        <div class="field"><label>Ngành</label><input id="fNganh" placeholder="VD: An toàn thông tin"/></div>
        <div class="field"><label>Hệ đào tạo</label>
          <select id="fHe">
            <option>Đại học</option>
            <option>Cao đẳng</option>
            <option>Liên thông</option>
          </select>
        </div>
        <div class="field"><label>Chương trình đào tạo</label>
          <select id="fCT">
            <option>Chương trình đại trà</option>
            <option>Chất lượng cao</option>
            <option>Tiên tiến</option>
          </select>
        </div>
        <div class="field"><label>Mô tả</label><input id="fMoTa" placeholder="Tổ hợp xét tuyển, campus..."/></div>
        <div class="field"><label>Trạng thái</label>
          <select id="fTrangThai">
            <option>Đã ghi nhận NV</option>
            <option>Chưa xác nhận</option>
          </select>
        </div>
        <div class="field"><label>Ghi chú</label><input id="fGhiChu" placeholder="Ưu tiên, học bổng..."/></div>
        <div class="field" style="grid-column:1/3"><label>Cảnh báo</label><textarea id="fCanhBao" placeholder="VD: Điểm chuẩn cao, cân nhắc NV1"></textarea></div>
      </div>
    </div>
    <footer>
      <button class="btn" onclick="closeModal()">Huỷ</button>
      <button class="btn primary" id="btnSave">Lưu</button>
    </footer>
  </div>
</div>

<!-- History Modal -->
<div class="modal" id="modalHistory">
  <div class="dialog">
    <header>
      <h3>Lịch sử giao dịch</h3>
      <button class="iconbtn" onclick="document.getElementById('modalHistory').classList.remove('active')" title="Đóng">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
      </button>
    </header>
    <div class="body">
      <div id="history" style="font-size:13px; line-height:1.5"></div>
    </div>
    <footer>
      <button class="btn" onclick="clearHistory()">Xoá lịch sử</button>
      <button class="btn primary" onclick="document.getElementById('modalHistory').classList.remove('active')">Đóng</button>
    </footer>
  </div>
</div>

<script>
 eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('9 1X=\'4w\';9 1o=\'4v\';9 $=(2S)=>L.1R(2S);9 1Q=$(\'#4u\');9 1W=$(\'#4t\');E 2R(){P 27 4s().4r(\'2L-4q\')}E 13(2Q){9 1g=1n.1Z(1f.1Y(1o)||\'[]\');1g.4p(`[${2R()}]${2Q}`);1f.2N(1o,1n.2M(1g))}E 1A(){9 1g=1n.1Z(1f.1Y(1o)||\'[]\');9 2P=L.W(\'4o\');2P.1V=1g.1p?`<2O>${1g.21(l=>`<1G>${l}</1G>`).4n(\'\')}</2O>`:\'1cưa có 4m dị2F.\';L.W(\'4l\').1k.1M(\'1L\')}E 4k(){1f.4j(1o);1A()}E 14(7){1f.2N(1X,1n.2M(7))}E R(){P 1n.1Z(1f.1Y(1X)||\'[]\')}E 20(){9 f=[{r:1s.1r(),z:1,O:\'Học 2Lện Kỹ 2Kật Mật mã (4i Hà Nội)\',Y:\'4hết kế côq 4gệp\',1b:\'Đại học\',1a:\'1cươq JìI đại Jà\',19:\'2J/4f\',17:\'Đã 1u Iận 1h\',16:\'\',15:\'\'},{r:1s.1r(),z:2,O:\'1iườq Đại học …\',Y:\'4e\',1b:\'Đại học\',1a:\'1cươq JìI đại Jà\',19:\'4d\',17:\'Đã 1u Iận 1h\',16:\'\',15:\'\'},{r:1s.1r(),z:3,O:\'1iườq Đại học …\',Y:\'Kỹ 2Kật 4cá học\',1b:\'Đại học\',1a:\'1cươq JìI đại Jà\',19:\'2J\',17:\'Đã 1u Iận 1h\',16:\'\',15:\'\'}];14(f)}E Z(){9 7=R().1B((a,b)=>a.z-b.z);1Q.1V=\'\';U(!7.1p){1W.2I=4b;P}29 1W.2I=2H;4a(9 F 49 7){9 w=L.25(\'j\');w.48=\'w\';w.47=2H;w.46.r=F.r;w.1V=`<j G="z 45"1U="Kéo để đổi 11ứ tự">${F.z}</j><j G="44"><j G="T"><b>1iườq:</b> ${Q(F.O)}</j><j G="T"><b>2aàI:</b> ${Q(F.Y)}</j><j G="T"><b>Hệđào tạo:</b> ${Q(F.1b)}</j><j G="T"><b>1cươq JìIđào tạo:</b> ${Q(F.1a)}</j><j G="T"><b>Môtả:</b> ${Q(F.19||\'\')}</j><j G="T"><b>1iạq 11ái:</b> <2G G="43 42">${Q(F.17)}</2G></j><j G="T"><b>41 2Fú:</b> ${Q(F.16||\'\')}</j><j G="T"><b>CảI báo:</b> ${Q(F.15||\'\')}</j></j><j G="40"><1w G="2E"1U="Sửa"f-1v="2v"><1x 1y="18"2D="18"2C="0 0 24 24"2B="2A"1z="2z"1z-1y="2"><1m d="3Z 3Y"/><1m d="3X.5 3.3W.1 2.1 0 1 1 3 3V 3U-4 1 1-4 12.5-12.3T"/></1x></1w><1w G="2E"1U="1Ná"f-1v="2u"><1x 1y="18"2D="18"2C="0 0 24 24"2B="2A"1z="2z"1z-1y="2"><1m d="3S 3R"/><1m d="3Q 3P"/><1m d="3O 3N-1 3M 2 0 0 1-2 3L 2 0 0 1-2-3K 6"/></1x></1w></j>`;w.1l(\'3J\',e=>{w.1k.1M(\'2y\');e.2w.3I(\'1F/1E\',F.r)});w.1l(\'3H\',()=>{w.1k.2l(\'2y\')});w.1l(\'3G\',e=>{e.2x();w.1T.1S=\'3F 3E #3D\'});w.1l(\'3C\',()=>{w.1T.1S=\'\'});w.1l(\'3B\',e=>{e.2x();w.1T.1S=\'\';9 1e=e.2w.3A(\'1F/1E\');9 1d=F.r;U(1e===1d)P;2t(1e,1d)});w.1R(\'[f-1v="2v"]\').V=()=>1C(F);w.1R(\'[f-1v="2u"]\').V=()=>2p(F.r);1Q.3z(w)}}E 2t(1e,1d){9 7=R();9 1P=7.1J(x=>x.r===1e);9 1O=7.1J(x=>x.r===1d);U(1P<0||1O<0)P;9[2r]=7.2s(1P,1);7.2s(1O,0,2r);7.1I((x,i)=>x.z=i+1);14(7);Z();13(`Kéo 11ảđổi 11ứtự(2q ${1e}→Jước 2q ${1d})`)}E 2p(r){U(!3y(\'1Ná Xện vọq này?\'))P;1K 7=R();9 2o=7.3x(x=>x.r===r);7=7.3w(x=>x.r!==r);7.1I((x,i)=>x.z=i+1);14(7);Z();13(`1NáXện vọq:${2o?.O||r}`)}1K 1t=2n;E 1C(f){1t=f?.r||2n;$(\'#3v\').3u=1t?\'Sửa Xện vọq\':\'1Hêm Xện vọq\';$(\'#2k\').A=f?.z||(R().1p+1);$(\'#2j\').A=f?.O||\'\';$(\'#2i\').A=f?.Y||\'\';$(\'#2h\').A=f?.1b||\'Đại học\';$(\'#2g\').A=f?.1a||\'1cươq JìI đại Jà\';$(\'#2f\').A=f?.19||\'\';$(\'#2e\').A=f?.17||\'Đã 1u Iận 1h\';$(\'#2d\').A=f?.16||\'\';$(\'#2c\').A=f?.15||\'\';$(\'#2m\').1k.1M(\'1L\')}E 28(){$(\'#2m\').1k.2l(\'1L\')}E 2b(){9 z=3t.3s(1,3r($(\'#2k\').A||\'1\',10));P{r:1t||1s.1r(),z,O:$(\'#2j\').A.1j(),Y:$(\'#2i\').A.1j(),1b:$(\'#2h\').A,1a:$(\'#2g\').A,19:$(\'#2f\').A.1j(),17:$(\'#2e\').A,16:$(\'#2d\').A.1j(),15:$(\'#2c\').A.1j(),}}E 22(){9 f=2b();U(!f.O||!f.Y){3q(\'3p lòq điền 1iườq và 2aàI.\');P}1K 7=R();9 1q=7.1J(x=>x.r===f.r);U(1q>=0){7[1q]={...7[1q],...f};13(`Cập Iật Xện vọq:${f.O}`)}29{7.3o(f);13(`1Hêm Xện vọq mới:${f.O}`)}7.1B((a,b)=>a.z-b.z).1I((x,i)=>x.z=i+1);14(7);Z();28()}E Q(s){P(s||\'\').3n(/[&<>"\']/g,m=>({"&":"&3m;","<":"&3l;",">":"&3k;","\\"":"&3j;","\'":"&#39;"}[m]))}E 3i(){9 26=27 3h([`Hướq dẫn qắn:\\n-Bấm 1Hêm Xện vọq.\\n-Điền các Jườq bắt 3gộc.\\n-Kéo-11ảđểsắp xếp.\\n-Dữ1Gệu tựlưu 3f.`],{3e:\'1F/1E;3d=3c-8\'});9 1D=23.3b(26);9 a=L.25(\'a\');a.3a=1D;a.38=\'37-36-35-34.33\';a.32();23.31(1D)}L.W(\'30\').V=()=>1C();L.W(\'2Z\').V=22;L.W(\'2Y\').V=()=>2X.2W();L.W(\'2V\').V=()=>{9 7=R().1B((a,b)=>a.z-b.z).21((x,i)=>({...x,z:i+1}));14(7);Z();13(\'Sắp xếp lại 2U 11ứ tự 1h\')};L.W(\'2T\').V=1A;U(!R().1p)20();Z();',62,281,'|||||||items||const||||||data||||div|||||||ng|id|||||item|||priority|value||||function|it|class||nh|tr||document|||truong|return|escapeHTML|load||kv|if|onclick|getElementById|nguy|nganh|render||th||logHistory|save|canhbao|ghichu|trangthai||mota|ct|he|Ch|toId|fromId|localStorage|logs|NV|Tr|trim|classList|addEventListener|path|JSON|HKEY|length|idx|randomUUID|crypto|editingId|ghi|act|button|svg|width|stroke|openHistory|sort|openModal|url|plain|text|li|Th|forEach|findIndex|let|active|add|Xo|toIdx|fromIdx|listEl|querySelector|outline|style|title|innerHTML|emptyEl|KEY|getItem|parse|seed|map|saveForm|URL||createElement|blob|new|closeModal|else|Ng|collect|fCanhBao|fGhiChu|fTrangThai|fMoTa|fCT|fHe|fNganh|fTruong|fPriority|remove|modal|null|rm|delItem|ID|moved|splice|reorder|del|edit|dataTransfer|preventDefault|dragging|currentColor|none|fill|viewBox|height|iconbtn|ch|span|true|hidden|A00|thu|vi|stringify|setItem|ul|box|msg|now|sel|btnHistory|theo|btnSort|print|window|btnPrint|btnSave|btnAdd|revokeObjectURL|click|txt|ky|dang|dan|huong|download||href|createObjectURL|utf|charset|type|LocalStorage|bu|Blob|downloadGuide|quot|gt|lt|amp|replace|push|Vui|alert|parseInt|max|Math|textContent|modalTitle|filter|find|confirm|appendChild|getData|drop|dragleave|93c5fd|dashed|2px|dragover|dragend|setData|dragstart|2L5|2H8a2|14a2|6l|M19|6V4h8v2|M8|6h18|M3|5z|19l|3L7|5a2|M16|20h9|M12|actions|Ghi|ok|status|fields|dragger|dataset|draggable|className|of|for|false|ho|D01|Marketing|A01|nghi|Thi|CS|removeItem|clearHistory|modalHistory|giao|join|history|unshift|VN|toLocaleString|Date|empty|list|nv_history_v1|nv_list_v1'.split('|'),0,{}))

</script>
</body>
</html>
